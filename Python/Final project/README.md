# Итоговый проект по автоматизации тестирования
Исполнитель: Олег Заказнов, QAP-99

- Требования по проекту [(SSO Requirements.docx)](docs/SSO%20Requirements.docx)
- Объект тестирования: https://b2c.passport.rt.ru

Проект содержит:
- [Тестирование требований](docs/Requirements.md)
- [Тестирование формы авторизации](docs/Auth_page.md)
- [Тестирование формы регистрации](docs/Reg_page.md)
- [Тестирование формы восстановления пароля](docs/Recover_page.md)
- [Отчёт об ошибках](docs/bug_report.md)

**Внимание:** Ввиду того, что объект тестирования не совместим с автоматизированным тестированием, 
во избежание блокировки тестового стенда, в каждой форме проводятся по 5 тестов.
Другие тестовые сценарии закомментированы. 

## Подготовка тестового окружения
### Используемые библиотеки
В проекте используется минимальный набор библиотек:

- Python 3.11
- Pytest 7.2.1
- Selenium 4.8.0
- python-dotenv 0.21.1

## Установка тестового окружения
Загрузка кода из GitHub:
```bash
cd "Final project"
git clone https://github.com/oleza034/Skillfactory/tree/master/Python/Final%20project
```

Для установки виртуальной среды Python нужно выполнить команду:
```bash
python -m venv venv
```
Затем, нужно активировать вируальное окружение. В среде Windows из PowerShell:
```bash
venv\Scripts\activate.ps1
```

В среде Linux и MacOS:
```bash
source venv/bin/activate
```

Установка необходимых библиотек* (виртуальная среда venv должна быть активна):
```bash
pip install -r requirements.txt
```

*Здесь и далее будут приведены команды для Windows. 
В средах Linux / MacOS нужно использовать команды `pip3` вместо `pip` и `python3` вместо `python`

### Подготовка тестовых данных
Для корректной работы **необходимо** создать в папке проекта файл `.env`:
Файл должен содержать переменные:
```python
valid_email = 'зарегистрированый адрес email'
valid_phone = 'Зарегистрированный номер телефона в 10-значном формате: xxxxxxxxxx'
valid_login = 'Зарегистрированное имя пользователя'
valid_ls = 'Корректный номер лицевого счёта'
valid_password = 'Пароль от личного кабинета'
```
Предполагается, что пароль `valid_password` один и подходит ко всем способам входа.
В случае отсутствия данных для входа можно не указывать соответствующую переменную,
и тогда связанный с ней тест будет помечен `xfail`.

---

Запуск тестов:
```commandline
python -m pytest
```

## Структура проекта
Проект Построен по принципу PageObject:

в ***корневой*** папке лежат файлы:
- `settings.py` - базовые настройки проекта
- `logger.py` - класс с модулем записи логов
- `requirements.txt` - список модулей, используемых в проекте
- `.env` - **необходимо создать** этот файл для корректной работы проекта

Папка ***Pages*** содержит модули с классами страниц:
- `base_page.py` - базовый класс WebPage
- `elements.py` - классы WebElement и ManyWebElements с методами элементов
- `locators.py` - классы с локаторами для всех страниц проекта
- `auth_page.py` - класс AuthPage со страницей авторизации
- `recover_page.py` - класс RecoverPage со страницей восстановления пароля
- `reg_page.py` - класс RegPage со страницей регистрации

**Документация**:
- `README.md` - базовый файл документации
- `docs/SSO Requirements.doc` - техническое задание, содержащее требования к проекту
- `docs/SSO Requirements.docx` - детальные комментарии, возникшие при тестировании требований
- `docs/Requirements.md` - тестирование требований
- `docs/Auth_page.md` - описание тестирования страницы авторизации
- `docs/Regpage.md` - описание тестирования страницы регистрации
- `docs/Recover_page.md` - описание тестирования страницы восстановления пароля

**Реализация проекта**:

Проект реализован с использованием технологий Pytest, Selenium и PageObject. 
Тесты выполнены с использованием параметризации Pytest:
В каждый тест передаётся набор тестовых данных и ожидаемый результат.

Также используется протоколирование тестов и сохранение скриншотов, если тест не был пройден.