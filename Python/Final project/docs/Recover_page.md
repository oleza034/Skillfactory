# Тестирование формы восстановления пароля

Модуль: `Tests/test_recover.py`

Название тестовой функции: `test_recover`

**Параметры тестовой функции**:
- `init_driver` - фикстура, инициализирующая драйвер Selenium
- `auth_type` - тип вида аутентификации. Должно использоваться одно из следующих значений:
  - 'phone'
  - 'email'
  - 'login'
  - 'ls'
- `username` - значение поля username: номер телефона, адрес почты, логин или номер лицевого счёта
- `captcha` - значение в поле Captcha, или None, если оператор вводит её самостоятельно
- `description` - краткое описание теста, используемое в файле лога
- `expectation` - True в случае, если тест позитивный, иначе False

**Описание**:
Функция берёт драйвер Selenium, инициализированный в фикстуре `init_driver`, открывает форму восстановления пароля,
вводит тестовые данные, отправляет их и сравнивает результат с ожиданием. Также тест использует протоколирование через
объект log тестовой страницы, который сохраняет данные в файле отчёта. Во время теста делаются снимки экрана для 
неуспешных тестов, которые сохраняются в папке отчёта и прикрепляются к протоколу.

**Настройки** берутся из модуля `settings.py`:
- `DEFAULT_WIDTH`, `DEFAULT_HEIGHT` - размеры окна браузера
- `conf_chrome`, `conf_firefox`, `conf_safari`, `conf_edge` - настройки соответствующих браузеров
- `ValidData` - класс с зарегистрированными тестовым данными
- `DELETE_UNNEEDED_SCREENSHOTS` - параметр для отладки тестов. По умолчанию True, что означает удаление ненужных 
  снимков экрана. Если False, снимки будут сохранены в любом случае.

**Описание тестовых случаев**:

*В связи с особенностями реализации тестируемого объекта, используются 5 тестов. Остальные тесты закомментированы*:
- Позитивный тест с использованием зарегистрированного адреса электронной почты (valid_email)
- Позитивный тест с использованием зарегистрированного номера телефона (valid_phone)
- Негативный тест с неверным типом данных = "Почта" и зарегистрированным номером телефона
- Негативный тест с пустым полем Captcha и зарегистрированным адресом почты
- Негативный тест с неверным значением поля Captcha и зарегистрированным номером телефона

***Примечание***: в случае необходимости корректного заполнения поля ввода символов с картинки (Captcha),
тестовая функция предполагает, что её вводом займётся оператор. В поле вводится текст: `pls enter...`
После этого Captcha должна быть введена не дольше, чем за интервал `CAPTCHA_TIMEOUT` в модуле `settings.py`
