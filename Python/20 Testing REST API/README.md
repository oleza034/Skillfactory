# Тестирование GET-запросов

## Задание 20.4.1 - план тестирования всех запросов:
1. [Тестирование запроса GET /api/key](tests/1_get_api_key.md)
2. [Тестирование запроса GET /api/pets](tests/2_get_api_pets.md)
3. [Тестирование запроса POST /api/create_pet_simple](tests/3_create_pet_simple.md)
4. [Тестирование запроса POST /api/pets/set_photo](tests/4_post_api_pets_set_photo.md)
5. [Тестирование запроса POST /api/pets](tests/5_post_api_pets.md)
6. [Тестирование запроса PUT /api/pets](tests/6_put_api_pets.md)
7. [Тестирование запроса DELETE /api/pets](tests/7_delete_api_pets.md)

## Пользовательское тестирование
### 1. Пользовательский сценарий загрузки фото питомца

| Предусловие | Шаги для повторения | Ожидание |
|:--------|:-------|:------|
| В системе создан пользователь с ником `test_user` и паролем `P@ssw0rd` | Выполнить запрос `GET /api/key` с корректными данными пользователя. Получаем ключ для пользователя. | В ответе на запрос `GET /api/pets` приходит созданный питомец с корректно загруженным файлом из шага 3 и данными питомца. |
|  | Выполнить запрос создания питомца — `POST /api/pets` с корректными данными. Получаем id созданного пользователем питомца. |  |
|  | Выполнить загрузку фотографии — `POST /api/pets/set_photo/{pet_id}`. |  |

### 2. Пользовательский сценарий добавления питомца

| Предусловие | Шаги для повторения | Ожидание |
|:--------|:-------|:------|
| В системе создан пользователь с ником `test_user` и паролем `P@ssw0rd` | Выполнить запрос `GET /api/key` с корректными данными пользователя. Получаем ключ для пользователя | В ответе на запрос `GET /api/pets` приходит созданный питомец с корректно загруженным файлом из шага 2 и данными питомца из шага 3. |
|  | Выполнить запрос создания питомца — `POST /api/pets` с корректными данными. Получаем id созданного пользователем питомца. |  |
|  | Изменить данные питомца через запрос `PUT /api/pets/{pet_id}` с корректными данными, отличающимися от данных в шаге 2. |  |

### 3. сценарий удаления питомца

| Предусловие | Шаги для повторения | Ожидание |
|:--------|:-------|:------|
| В системе создан пользователь с ником `test_user` и паролем `P@ssw0rd` | Выполнить запрос `GET /api/key` с корректными данными пользователя. Получаем ключ для пользователя | В ответе на запрос `GET /api/pets` с параметром `filter=my_pets` приходит список питомцев, в котором нет питомца с ID, созданном в шаге 2 |
|  | Выполнить запрос создания питомца — `POST /api/pets` с корректными данными. Получаем id созданного пользователем питомца. |  |
|  | Выполнить запрос `DELETE /api/pets/{pet_id}` с данными созданного питомца |  |

### 4. сценарий создания нескольких питомцев

| Предусловие | Шаги для повторения | Ожидание |
|:--------|:-------|:------|
| В системе создан пользователь с ником `test_user` и паролем `P@ssw0rd` | Выполнить запрос `GET /api/key` с корректными данными пользователя. Получаем ключ для пользователя | В ответе на запрос `GET /api/pets` с параметром `filter=my_pets` приходит список питомцев, в котором есть ID питомцев из шагов 2-3; данные этих питомцев соответствуют новым данным из соответствующих шагов |
|  | Выполнить запрос `PUT /api/pets/{pet_id}` с ID первого питомца и корректными данными. Поля `name`, `animal_type`, `age` должны отличаться от текущих значений |  |
|  | Выполнить запрос `PUT /api/pets/{pet_id}` с ID второго питомца и корректными данными. Поля `name`, `animal_type`, `age` должны отличаться от текущих значений |  |

### 5. сценарий изменения нескольких питомцев

| Предусловие | Шаги для повторения | Ожидание |
|:--------|:-------|:------|
| В системе создан пользователь с ником `test_user` и паролем `P@ssw0rd`<br>У пользователя создано как минимум 2 питомца | Выполнить запрос `GET /api/key` с корректными данными пользователя. Получаем ключ для пользователя | В ответе на запрос `GET /api/pets` с параметром `filter=my_pets` приходит список питомцев, в котором есть ID питомцев из шагов 3-4; данные этих питомцев соответствуют новым данным из соответствующих шагов |
|  | Выполнить запрос создания питомца — `GET /api/pets` с параметром `filter=my_pets`. Получаем список питомцев пользователя. |  |
|  | Выполнить запрос `PUT /api/pets/{pet_id}` с ID первого питомца и корректными данными. Поля `name`, `animal_type`, `age` должны отличаться от текущих значений |  |
|  | Выполнить запрос `PUT /api/pets/{pet_id}` с ID второго питомца и корректными данными. Поля `name`, `animal_type`, `age` должны отличаться от текущих значений |  |

### 6. сценарий удаления нескольких питомцев

| Предусловие | Шаги для повторения | Ожидание |
|:--------|:-------|:------|
| В системе создан пользователь с ником `test_user` и паролем `P@ssw0rd`<br>У пользователя создано как минимум 2 питомца | Выполнить запрос `GET /api/key` с корректными данными пользователя. Получаем ключ для пользователя | В ответе на запрос `GET /api/pets` с параметром `filter=my_pets` приходит список питомцев, в котором нет ID, удалённых в шаге 3 и 4. Или приходит пустой список |
|  | Выполнить запрос создания питомца — `GET /api/pets` с параметром `filter=my_pets`. Получаем список питомцев пользователя. |  |
|  | Выполнить запрос `DELETE /api/pets/{pet_id}` с данными первого питомца |  |
|  | Выполнить запрос `DELETE /api/pets/{pet_id}` с данными второго питомца |  |
